{"version":3,"sources":["webpack:///js/store.js","webpack:///./src/js/store.js"],"names":["webpackJsonp","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","root","factory","apply","undefined","this","isLocalStorageNameSupported","localStorageName","win","err","storage","store","window","doc","document","scriptTag","disabled","version","set","key","value","get","defaultVal","has","remove","clear","transact","transactionFn","val","getAll","forEach","serialize","JSON","stringify","deserialize","parse","e","setItem","getItem","removeItem","ret","callback","i","length","documentElement","addBehavior","storageOwner","storageContainer","ActiveXObject","open","write","close","w","frames","createElement","body","withIEStorage","storeFunction","args","Array","prototype","slice","call","arguments","unshift","appendChild","load","result","removeChild","forbiddenCharsRegex","RegExp","ieKeyFix","replace","setAttribute","save","getAttribute","removeAttribute","attributes","XMLDocument","name","attr","testKey","enabled"],"mappings":"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","file":"js/store.js","sourcesContent":["webpackJsonp([3,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(global) {/*\n\t* @Author: baby\n\t* @Date:   2016-02-26 00:00:16\n\t* @Last Modified by:   baby\n\t* @Last Modified time: 2016-02-26 11:17:14\n\t*/\n\t\n\t/**\n\t * localstorage 类库\n\t * 用法:\n\t * init()\n\t *   function init() {\n\t *       if (!store.enabled) {\n\t *           alert('Local storage is not supported by your browser. Please disable \"Private Mode\", or upgrade to a modern *browser.')\n\t *           return\n\t *       }\n\t *       var user = store.get('user')\n\t *       // ... and so on ...\n\t *   }\n\t *\n\t *\n\t *\n\t *\n\t *\n\t * // Store 'marcus' at 'username'\n\t*store.set('username', 'marcus')\n\t*\n\t*\t// Get 'username'\n\t*store.get('username')\n\t*\n\t*\t// Remove 'username'\n\t*store.remove('username')\n\t*\n\t*\t// Clear all keys\n\t*store.clear()\n\t*\n\t*\t// Store an object literal - store.js uses JSON.stringify under the hood\n\t*store.set('user', { name: 'marcus', likes: 'javascript' })\n\t*\n\t*\t// Get the stored object - store.js uses JSON.parse under the hood\n\t*var user = store.get('user')\n\t*alert(user.name + ' likes ' + user.likes)\n\t*\n\t*\t// Get all stored values\n\t*store.getAll().user.name == 'marcus'\n\t*\n\t*\t// Loop over all stored values\n\t*store.forEach(function(key, val) {\n\t*    console.log(key, '==', val)\n\t*})\n\t*/\n\t\"use strict\";\n\t\n\t// Module export pattern from\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\t\n\t(function (root, factory) {\n\t\tif (true) {\n\t\t\t// AMD. Register as an anonymous module.\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\t// Node. Does not work with strict CommonJS, but\n\t\t\t// only CommonJS-like environments that support module.exports,\n\t\t\t// like Node.\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\t// Browser globals (root is window)\n\t\t\troot.store = factory();\n\t\t}\n\t})(this, function () {\n\t\n\t\t// Store.js\n\t\tvar store = {},\n\t\t    win = typeof window != 'undefined' ? window : global,\n\t\t    doc = win.document,\n\t\t    localStorageName = 'localStorage',\n\t\t    scriptTag = 'script',\n\t\t    storage;\n\t\n\t\tstore.disabled = false;\n\t\tstore.version = '1.3.20';\n\t\tstore.set = function (key, value) {};\n\t\tstore.get = function (key, defaultVal) {};\n\t\tstore.has = function (key) {\n\t\t\treturn store.get(key) !== undefined;\n\t\t};\n\t\tstore.remove = function (key) {};\n\t\tstore.clear = function () {};\n\t\tstore.transact = function (key, defaultVal, transactionFn) {\n\t\t\tif (transactionFn == null) {\n\t\t\t\ttransactionFn = defaultVal;\n\t\t\t\tdefaultVal = null;\n\t\t\t}\n\t\t\tif (defaultVal == null) {\n\t\t\t\tdefaultVal = {};\n\t\t\t}\n\t\t\tvar val = store.get(key, defaultVal);\n\t\t\ttransactionFn(val);\n\t\t\tstore.set(key, val);\n\t\t};\n\t\tstore.getAll = function () {};\n\t\tstore.forEach = function () {};\n\t\n\t\tstore.serialize = function (value) {\n\t\t\treturn JSON.stringify(value);\n\t\t};\n\t\tstore.deserialize = function (value) {\n\t\t\tif (typeof value != 'string') {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(value);\n\t\t\t} catch (e) {\n\t\t\t\treturn value || undefined;\n\t\t\t}\n\t\t};\n\t\n\t\t// Functions to encapsulate questionable FireFox 3.6.13 behavior\n\t\t// when about.config::dom.storage.enabled === false\n\t\t// See https://github.com/marcuswestin/store.js/issues#issue/13\n\t\tfunction isLocalStorageNameSupported() {\n\t\t\ttry {\n\t\t\t\treturn localStorageName in win && win[localStorageName];\n\t\t\t} catch (err) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\n\t\tif (isLocalStorageNameSupported()) {\n\t\t\tstorage = win[localStorageName];\n\t\t\tstore.set = function (key, val) {\n\t\t\t\tif (val === undefined) {\n\t\t\t\t\treturn store.remove(key);\n\t\t\t\t}\n\t\t\t\tstorage.setItem(key, store.serialize(val));\n\t\t\t\treturn val;\n\t\t\t};\n\t\t\tstore.get = function (key, defaultVal) {\n\t\t\t\tvar val = store.deserialize(storage.getItem(key));\n\t\t\t\treturn val === undefined ? defaultVal : val;\n\t\t\t};\n\t\t\tstore.remove = function (key) {\n\t\t\t\tstorage.removeItem(key);\n\t\t\t};\n\t\t\tstore.clear = function () {\n\t\t\t\tstorage.clear();\n\t\t\t};\n\t\t\tstore.getAll = function () {\n\t\t\t\tvar ret = {};\n\t\t\t\tstore.forEach(function (key, val) {\n\t\t\t\t\tret[key] = val;\n\t\t\t\t});\n\t\t\t\treturn ret;\n\t\t\t};\n\t\t\tstore.forEach = function (callback) {\n\t\t\t\tfor (var i = 0; i < storage.length; i++) {\n\t\t\t\t\tvar key = storage.key(i);\n\t\t\t\t\tcallback(key, store.get(key));\n\t\t\t\t}\n\t\t\t};\n\t\t} else if (doc && doc.documentElement.addBehavior) {\n\t\t\tvar storageOwner, storageContainer;\n\t\t\t// Since #userData storage applies only to specific paths, we need to\n\t\t\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t\t\t// as a pretty safe option, since all browsers already make a request to\n\t\t\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t\t\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t\t\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t\t\t// since the iframe access rules appear to allow direct access and\n\t\t\t// manipulation of the document element, even for a 404 page.  This\n\t\t\t// document can be used instead of the current document (which would\n\t\t\t// have been limited to the current path) to perform #userData storage.\n\t\t\ttry {\n\t\t\t\tstorageContainer = new ActiveXObject('htmlfile');\n\t\t\t\tstorageContainer.open();\n\t\t\t\tstorageContainer.write('<' + scriptTag + '>document.w=window</' + scriptTag + '><iframe src=\"/favicon.ico\"></iframe>');\n\t\t\t\tstorageContainer.close();\n\t\t\t\tstorageOwner = storageContainer.w.frames[0].document;\n\t\t\t\tstorage = storageOwner.createElement('div');\n\t\t\t} catch (e) {\n\t\t\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t\t\t// security settings or otherwse), fall back to per-path storage\n\t\t\t\tstorage = doc.createElement('div');\n\t\t\t\tstorageOwner = doc.body;\n\t\t\t}\n\t\t\tvar withIEStorage = function (storeFunction) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar args = Array.prototype.slice.call(arguments, 0);\n\t\t\t\t\targs.unshift(storage);\n\t\t\t\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t\t\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\t\t\t\tstorageOwner.appendChild(storage);\n\t\t\t\t\tstorage.addBehavior('#default#userData');\n\t\t\t\t\tstorage.load(localStorageName);\n\t\t\t\t\tvar result = storeFunction.apply(store, args);\n\t\t\t\t\tstorageOwner.removeChild(storage);\n\t\t\t\t\treturn result;\n\t\t\t\t};\n\t\t\t};\n\t\n\t\t\t// In IE7, keys cannot start with a digit or contain certain chars.\n\t\t\t// See https://github.com/marcuswestin/store.js/issues/40\n\t\t\t// See https://github.com/marcuswestin/store.js/issues/83\n\t\t\tvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\");\n\t\t\tvar ieKeyFix = function (key) {\n\t\t\t\treturn key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___');\n\t\t\t};\n\t\t\tstore.set = withIEStorage(function (storage, key, val) {\n\t\t\t\tkey = ieKeyFix(key);\n\t\t\t\tif (val === undefined) {\n\t\t\t\t\treturn store.remove(key);\n\t\t\t\t}\n\t\t\t\tstorage.setAttribute(key, store.serialize(val));\n\t\t\t\tstorage.save(localStorageName);\n\t\t\t\treturn val;\n\t\t\t});\n\t\t\tstore.get = withIEStorage(function (storage, key, defaultVal) {\n\t\t\t\tkey = ieKeyFix(key);\n\t\t\t\tvar val = store.deserialize(storage.getAttribute(key));\n\t\t\t\treturn val === undefined ? defaultVal : val;\n\t\t\t});\n\t\t\tstore.remove = withIEStorage(function (storage, key) {\n\t\t\t\tkey = ieKeyFix(key);\n\t\t\t\tstorage.removeAttribute(key);\n\t\t\t\tstorage.save(localStorageName);\n\t\t\t});\n\t\t\tstore.clear = withIEStorage(function (storage) {\n\t\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes;\n\t\t\t\tstorage.load(localStorageName);\n\t\t\t\tfor (var i = attributes.length - 1; i >= 0; i--) {\n\t\t\t\t\tstorage.removeAttribute(attributes[i].name);\n\t\t\t\t}\n\t\t\t\tstorage.save(localStorageName);\n\t\t\t});\n\t\t\tstore.getAll = function (storage) {\n\t\t\t\tvar ret = {};\n\t\t\t\tstore.forEach(function (key, val) {\n\t\t\t\t\tret[key] = val;\n\t\t\t\t});\n\t\t\t\treturn ret;\n\t\t\t};\n\t\t\tstore.forEach = withIEStorage(function (storage, callback) {\n\t\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes;\n\t\t\t\tfor (var i = 0, attr; attr = attributes[i]; ++i) {\n\t\t\t\t\tcallback(attr.name, store.deserialize(storage.getAttribute(attr.name)));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\ttry {\n\t\t\tvar testKey = '__storejs__';\n\t\t\tstore.set(testKey, testKey);\n\t\t\tif (store.get(testKey) != testKey) {\n\t\t\t\tstore.disabled = true;\n\t\t\t}\n\t\t\tstore.remove(testKey);\n\t\t} catch (e) {\n\t\t\tstore.disabled = true;\n\t\t}\n\t\tstore.enabled = !store.disabled;\n\t\n\t\treturn store;\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** js/store.js\n **/","/*\n* @Author: baby\n* @Date:   2016-02-26 00:00:16\n* @Last Modified by:   baby\n* @Last Modified time: 2016-02-26 11:17:14\n*/\n\n/**\n * localstorage 类库\n * 用法:\n * init()\n *   function init() {\n *       if (!store.enabled) {\n *           alert('Local storage is not supported by your browser. Please disable \"Private Mode\", or upgrade to a modern *browser.')\n *           return\n *       }\n *       var user = store.get('user')\n *       // ... and so on ...\n *   }\n *\n *\n *\n *\n *\n * // Store 'marcus' at 'username'\n*store.set('username', 'marcus')\n*\n*\t// Get 'username'\n*store.get('username')\n*\n*\t// Remove 'username'\n*store.remove('username')\n*\n*\t// Clear all keys\n*store.clear()\n*\n*\t// Store an object literal - store.js uses JSON.stringify under the hood\n*store.set('user', { name: 'marcus', likes: 'javascript' })\n*\n*\t// Get the stored object - store.js uses JSON.parse under the hood\n*var user = store.get('user')\n*alert(user.name + ' likes ' + user.likes)\n*\n*\t// Get all stored values\n*store.getAll().user.name == 'marcus'\n*\n*\t// Loop over all stored values\n*store.forEach(function(key, val) {\n*    console.log(key, '==', val)\n*})\n*/\n\"use strict\"\n// Module export pattern from\n// https://github.com/umdjs/umd/blob/master/returnExports.js\n;(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.store = factory();\n  }\n}(this, function () {\n\n\t// Store.js\n\tvar store = {},\n\t\twin = (typeof window != 'undefined' ? window : global),\n\t\tdoc = win.document,\n\t\tlocalStorageName = 'localStorage',\n\t\tscriptTag = 'script',\n\t\tstorage\n\n\tstore.disabled = false\n\tstore.version = '1.3.20'\n\tstore.set = function(key, value) {}\n\tstore.get = function(key, defaultVal) {}\n\tstore.has = function(key) { return store.get(key) !== undefined }\n\tstore.remove = function(key) {}\n\tstore.clear = function() {}\n\tstore.transact = function(key, defaultVal, transactionFn) {\n\t\tif (transactionFn == null) {\n\t\t\ttransactionFn = defaultVal\n\t\t\tdefaultVal = null\n\t\t}\n\t\tif (defaultVal == null) {\n\t\t\tdefaultVal = {}\n\t\t}\n\t\tvar val = store.get(key, defaultVal)\n\t\ttransactionFn(val)\n\t\tstore.set(key, val)\n\t}\n\tstore.getAll = function() {}\n\tstore.forEach = function() {}\n\n\tstore.serialize = function(value) {\n\t\treturn JSON.stringify(value)\n\t}\n\tstore.deserialize = function(value) {\n\t\tif (typeof value != 'string') { return undefined }\n\t\ttry { return JSON.parse(value) }\n\t\tcatch(e) { return value || undefined }\n\t}\n\n\t// Functions to encapsulate questionable FireFox 3.6.13 behavior\n\t// when about.config::dom.storage.enabled === false\n\t// See https://github.com/marcuswestin/store.js/issues#issue/13\n\tfunction isLocalStorageNameSupported() {\n\t\ttry { return (localStorageName in win && win[localStorageName]) }\n\t\tcatch(err) { return false }\n\t}\n\n\tif (isLocalStorageNameSupported()) {\n\t\tstorage = win[localStorageName]\n\t\tstore.set = function(key, val) {\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setItem(key, store.serialize(val))\n\t\t\treturn val\n\t\t}\n\t\tstore.get = function(key, defaultVal) {\n\t\t\tvar val = store.deserialize(storage.getItem(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t}\n\t\tstore.remove = function(key) { storage.removeItem(key) }\n\t\tstore.clear = function() { storage.clear() }\n\t\tstore.getAll = function() {\n\t\t\tvar ret = {}\n\t\t\tstore.forEach(function(key, val) {\n\t\t\t\tret[key] = val\n\t\t\t})\n\t\t\treturn ret\n\t\t}\n\t\tstore.forEach = function(callback) {\n\t\t\tfor (var i=0; i<storage.length; i++) {\n\t\t\t\tvar key = storage.key(i)\n\t\t\t\tcallback(key, store.get(key))\n\t\t\t}\n\t\t}\n\t} else if (doc && doc.documentElement.addBehavior) {\n\t\tvar storageOwner,\n\t\t\tstorageContainer\n\t\t// Since #userData storage applies only to specific paths, we need to\n\t\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t\t// as a pretty safe option, since all browsers already make a request to\n\t\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t\t// since the iframe access rules appear to allow direct access and\n\t\t// manipulation of the document element, even for a 404 page.  This\n\t\t// document can be used instead of the current document (which would\n\t\t// have been limited to the current path) to perform #userData storage.\n\t\ttry {\n\t\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\t\tstorageContainer.open()\n\t\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\t\tstorageContainer.close()\n\t\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\t\tstorage = storageOwner.createElement('div')\n\t\t} catch(e) {\n\t\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t\t// security settings or otherwse), fall back to per-path storage\n\t\t\tstorage = doc.createElement('div')\n\t\t\tstorageOwner = doc.body\n\t\t}\n\t\tvar withIEStorage = function(storeFunction) {\n\t\t\treturn function() {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments, 0)\n\t\t\t\targs.unshift(storage)\n\t\t\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\t\t\tstorageOwner.appendChild(storage)\n\t\t\t\tstorage.addBehavior('#default#userData')\n\t\t\t\tstorage.load(localStorageName)\n\t\t\t\tvar result = storeFunction.apply(store, args)\n\t\t\t\tstorageOwner.removeChild(storage)\n\t\t\t\treturn result\n\t\t\t}\n\t\t}\n\n\t\t// In IE7, keys cannot start with a digit or contain certain chars.\n\t\t// See https://github.com/marcuswestin/store.js/issues/40\n\t\t// See https://github.com/marcuswestin/store.js/issues/83\n\t\tvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\n\t\tvar ieKeyFix = function(key) {\n\t\t\treturn key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___')\n\t\t}\n\t\tstore.set = withIEStorage(function(storage, key, val) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setAttribute(key, store.serialize(val))\n\t\t\tstorage.save(localStorageName)\n\t\t\treturn val\n\t\t})\n\t\tstore.get = withIEStorage(function(storage, key, defaultVal) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tvar val = store.deserialize(storage.getAttribute(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t})\n\t\tstore.remove = withIEStorage(function(storage, key) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tstorage.removeAttribute(key)\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.clear = withIEStorage(function(storage) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tstorage.load(localStorageName)\n\t\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\t\tstorage.removeAttribute(attributes[i].name)\n\t\t\t}\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.getAll = function(storage) {\n\t\t\tvar ret = {}\n\t\t\tstore.forEach(function(key, val) {\n\t\t\t\tret[key] = val\n\t\t\t})\n\t\t\treturn ret\n\t\t}\n\t\tstore.forEach = withIEStorage(function(storage, callback) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tfor (var i=0, attr; attr=attributes[i]; ++i) {\n\t\t\t\tcallback(attr.name, store.deserialize(storage.getAttribute(attr.name)))\n\t\t\t}\n\t\t})\n\t}\n\n\ttry {\n\t\tvar testKey = '__storejs__'\n\t\tstore.set(testKey, testKey)\n\t\tif (store.get(testKey) != testKey) { store.disabled = true }\n\t\tstore.remove(testKey)\n\t} catch(e) {\n\t\tstore.disabled = true\n\t}\n\tstore.enabled = !store.disabled\n\n\treturn store\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/store.js\n **/"],"sourceRoot":""}